<?xml version="1.0" encoding="utf-8" ?> 
<sqlMap namespace="PronoteHeader" xmlns="http://ibatis.apache.org/mapping" 
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <statements>
    <select id="select_GetByDate" resultMap="PronoteHeaderResult" parameterClass="string">
      SELECT * FROM PronoteHeader WHERE PronoteDate between #startdate# and #enddate# order by PronoteHeaderID desc
    </select>
    <select id="select_byCustomerANDdate" resultMap="PronoteHeaderResult" parameterClass="Map">
      <![CDATA[
     select * from PronoteHeader  where  InvoiceXOId in
     (select InvoiceXOId from  InvoiceXO where  
     (CustomerId in(select  CustomerId from customer where 
     (id>=#startcustomerid# or #startcustomerid# is null) and (id<= #endcustomerid# or #endcustomerid# is null)) ))
      and   PronoteDate  between #startdate# and #enddate# order by PronoteHeaderId desc
    ]]>
    </select>
  </statements>
</sqlMap>